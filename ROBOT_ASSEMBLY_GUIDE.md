# ü§ñ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Å–±–æ—Ä–∫–µ —Ä–æ–±–æ—Ç–æ–≤ –∏–∑ AI-—Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–π

## –û–±–∑–æ—Ä

–¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –∏ —Å–æ–±–∏—Ä–∞—Ç—å —Ä–æ–±–æ—Ç–æ–≤ –∏–∑ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –æ–ø–∏—Å–∞–Ω–∏—è! –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç JSON-—Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é –∏ –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –µ—ë –≤ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π FreeCAD –¥–æ–∫—É–º–µ–Ω—Ç —Å–æ —Å–±–æ—Ä–∫–æ–π.

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏** - AI –∞–≥–µ–Ω—Ç –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç —Ç–µ–∫—Å—Ç–æ–≤–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤ JSON
2. **–°–±–æ—Ä–∫–∞ —Ä–æ–±–æ—Ç–∞** - –°–∏—Å—Ç–µ–º–∞ —Å–æ–∑–¥–∞–µ—Ç 3D-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏ —Å–æ–±–∏—Ä–∞–µ—Ç –∏—Ö –≤ FreeCAD –¥–æ–∫—É–º–µ–Ω—Ç
3. **–†–µ–∑—É–ª—å—Ç–∞—Ç** - –í—ã –ø–æ–ª—É—á–∞–µ—Ç–µ —Ñ–∞–π–ª `.FCStd`, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å –≤ FreeCAD –∏ —É–≤–∏–¥–µ—Ç—å —Å–æ–±—Ä–∞–Ω–Ω–æ–≥–æ —Ä–æ–±–æ—Ç–∞

## API Endpoints

### 1. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ (POST)

```
POST /api/ai/generate-spec
```

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
    "prompt": "–°–æ–∑–¥–∞–π —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é –¥–ª—è —á–µ—Ç—ã—Ä—ë—Ö–∫–æ–ª—ë—Å–Ω–æ–≥–æ —Ä–æ–±–æ—Ç–∞-–∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—è —Å —Ä–∞–∑–º–µ—Ä–∞–º–∏ —à–∞—Å—Å–∏ 120x80x40 –º–º –∏ –∫–æ–ª—ë—Å–∞–º–∏ –¥–∏–∞–º–µ—Ç—Ä–æ–º 60 –º–º."
}
```

**–û—Ç–≤–µ—Ç:**
```json
{
    "success": true,
    "specification": {
        "robot_type": "wheeled",
        "components": [
            {
                "name": "chassis",
                "type": "box",
                "params": {
                    "length": 120,
                    "width": 80,
                    "height": 40
                }
            },
            {
                "name": "wheel",
                "type": "cylinder",
                "params": {
                    "radius": 30,
                    "height": 10
                },
                "count": 4
            }
        ],
        "assembly_rules": [
            {
                "from": "wheel_1",
                "to": "chassis",
                "constraint": "coincident"
            }
        ]
    }
}
```

### 2. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏ —Å–±–æ—Ä–∫–∞ —Ä–æ–±–æ—Ç–∞ (POST) ‚≠ê

```
POST /api/ai/assemble-robot
```

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
    "prompt": "–°–æ–∑–¥–∞–π —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é –¥–ª—è —á–µ—Ç—ã—Ä—ë—Ö–∫–æ–ª—ë—Å–Ω–æ–≥–æ —Ä–æ–±–æ—Ç–∞-–∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—è —Å —Ä–∞–∑–º–µ—Ä–∞–º–∏ —à–∞—Å—Å–∏ 120x80x40 –º–º –∏ –∫–æ–ª—ë—Å–∞–º–∏ –¥–∏–∞–º–µ—Ç—Ä–æ–º 60 –º–º.",
    "document_name": "my_robot",
    "output_path": "robots/my_robot.FCStd"
}
```

**–û—Ç–≤–µ—Ç:**
```json
{
    "success": true,
    "message": "–†–æ–±–æ—Ç —É—Å–ø–µ—à–Ω–æ —Å–æ–±—Ä–∞–Ω!\n–î–æ–∫—É–º–µ–Ω—Ç: my_robot\n–ü—É—Ç—å: /path/to/robots/my_robot.FCStd\n–ö–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å–æ–∑–¥–∞–Ω–æ: 5\n–ü—Ä–∞–≤–∏–ª —Å–±–æ—Ä–∫–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–æ: 4",
    "document_path": "/path/to/robots/my_robot.FCStd",
    "components_created": ["chassis", "wheel"],
    "errors": [],
    "specification": { ... }
}
```

## –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### –¢–∏–ø—ã —Ñ–∏–≥—É—Ä:
- **box** - –ø–∞—Ä–∞–ª–ª–µ–ª–µ–ø–∏–ø–µ–¥
  - –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: `length`, `width`, `height`
- **cylinder** - —Ü–∏–ª–∏–Ω–¥—Ä
  - –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: `radius`, `height`
- **sphere** - —Å—Ñ–µ—Ä–∞
  - –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: `radius`
- **cone** - –∫–æ–Ω—É—Å
  - –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: `radius1`, `radius2`, `height`
- **torus** - —Ç–æ—Ä
  - –ü–∞—Ä–∞–º–µ—Ç—Ä—ã: `radius1`, `radius2`

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞:
- `name` - –∏–º—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
- `type` - —Ç–∏–ø —Ñ–∏–≥—É—Ä—ã
- `params` - –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Ñ–∏–≥—É—Ä—ã
- `count` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–ø–∏–π (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –ü—Ä–∞–≤–∏–ª–∞ —Å–±–æ—Ä–∫–∏:
- `from` - –∏–º—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞-–∏—Å—Ç–æ—á–Ω–∏–∫–∞
- `to` - –∏–º—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞-—Ü–µ–ª–∏
- `constraint` - —Ç–∏–ø –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è (–ø–æ–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è "coincident")

## –ü—Ä–∏–º–µ—Ä—ã –æ–ø–∏—Å–∞–Ω–∏–π

### –ß–µ—Ç—ã—Ä—ë—Ö–∫–æ–ª—ë—Å–Ω—ã–π —Ä–æ–±–æ—Ç
```
–°–æ–∑–¥–∞–π —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é –¥–ª—è —á–µ—Ç—ã—Ä—ë—Ö–∫–æ–ª—ë—Å–Ω–æ–≥–æ —Ä–æ–±–æ—Ç–∞-–∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—è —Å —Ä–∞–∑–º–µ—Ä–∞–º–∏ —à–∞—Å—Å–∏ 120x80x40 –º–º –∏ –∫–æ–ª—ë—Å–∞–º–∏ –¥–∏–∞–º–µ—Ç—Ä–æ–º 60 –º–º.
```

### –†–æ–±–æ—Ç-–º–∞–Ω–∏–ø—É–ª—è—Ç–æ—Ä
```
–°–æ–∑–¥–∞–π —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é –¥–ª—è —Ä–æ–±–æ—Ç–∞-–º–∞–Ω–∏–ø—É–ª—è—Ç–æ—Ä–∞ —Å –æ—Å–Ω–æ–≤–∞–Ω–∏–µ–º 200x150x50 –º–º, –¥–≤—É–º—è —Å–µ–≥–º–µ–Ω—Ç–∞–º–∏ —Ä—É–∫–∏ –¥–ª–∏–Ω–æ–π 300 –º–º –∏ 200 –º–º, –∏ –∑–∞—Ö–≤–∞—Ç–æ–º.
```

### –ì—É—Å–µ–Ω–∏—á–Ω—ã–π —Ä–æ–±–æ—Ç
```
–°–æ–∑–¥–∞–π —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é –¥–ª—è –≥—É—Å–µ–Ω–∏—á–Ω–æ–≥–æ —Ä–æ–±–æ—Ç–∞ —Å –∫–æ—Ä–ø—É—Å–æ–º 200x120x60 –º–º –∏ –¥–≤—É–º—è –≥—É—Å–µ–Ω–∏—Ü–∞–º–∏.
```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ß–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä (Swagger UI)
1. –û—Ç–∫—Ä–æ–π—Ç–µ: http://localhost:8001/docs
2. –ù–∞–π–¥–∏—Ç–µ endpoint `/api/ai/assemble-robot`
3. –ù–∞–∂–º–∏—Ç–µ "Try it out"
4. –í–≤–µ–¥–∏—Ç–µ JSON –∑–∞–ø—Ä–æ—Å–∞
5. –ù–∞–∂–º–∏—Ç–µ "Execute"

### –ß–µ—Ä–µ–∑ curl
```bash
curl -X POST "http://localhost:8001/api/ai/assemble-robot" \
  -H "Content-Type: application/json" \
  -d '{
    "prompt": "–°–æ–∑–¥–∞–π —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é –¥–ª—è —á–µ—Ç—ã—Ä—ë—Ö–∫–æ–ª—ë—Å–Ω–æ–≥–æ —Ä–æ–±–æ—Ç–∞-–∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—è —Å —Ä–∞–∑–º–µ—Ä–∞–º–∏ —à–∞—Å—Å–∏ 120x80x40 –º–º –∏ –∫–æ–ª—ë—Å–∞–º–∏ –¥–∏–∞–º–µ—Ç—Ä–æ–º 60 –º–º.",
    "document_name": "my_robot"
  }'
```

### –ß–µ—Ä–µ–∑ Python
```python
import requests

response = requests.post(
    "http://localhost:8001/api/ai/assemble-robot",
    json={
        "prompt": "–°–æ–∑–¥–∞–π —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é –¥–ª—è —á–µ—Ç—ã—Ä—ë—Ö–∫–æ–ª—ë—Å–Ω–æ–≥–æ —Ä–æ–±–æ—Ç–∞...",
        "document_name": "my_robot"
    }
)

result = response.json()
print(f"–†–æ–±–æ—Ç —Å–æ–∑–¥–∞–Ω: {result['document_path']}")
```

## –†–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞ –≤—ã –ø–æ–ª—É—á–∏—Ç–µ:
1. **FreeCAD –¥–æ–∫—É–º–µ–Ω—Ç** (.FCStd —Ñ–∞–π–ª) –≤ –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞
2. **–°–æ–±—Ä–∞–Ω–Ω—ã–π —Ä–æ–±–æ—Ç** —Å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏, —Å–æ–µ–¥–∏–Ω—ë–Ω–Ω—ã–º–∏ –ø–æ –ø—Ä–∞–≤–∏–ª–∞–º —Å–±–æ—Ä–∫–∏
3. **–û—Ç—á–µ—Ç** –æ –ø—Ä–æ—Ü–µ—Å—Å–µ —Å–±–æ—Ä–∫–∏

–§–∞–π–ª –º–æ–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å –≤ FreeCAD –∏ —É–≤–∏–¥–µ—Ç—å:
- –í—Å–µ –¥–µ—Ç–∞–ª–∏ —Ä–æ–±–æ—Ç–∞
- –ò—Ö –≤–∑–∞–∏–º–Ω–æ–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ
- –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç:
```bash
python test_assembly.py
```

–°–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç:
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—é —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ AI –∞–≥–µ–Ω—Ç
- –°–±–æ—Ä–∫—É —Ä–æ–±–æ—Ç–∞ –∏–∑ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏
- –†–∞–±–æ—Ç—É API endpoints

## –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

- –ü–æ–∫–∞ —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —É–ø—Ä–æ—â—ë–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è (–±–µ–∑ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã—Ö Constraints)
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –±–∞–∑–æ–≤–∞—è –≥–µ–æ–º–µ—Ç—Ä–∏—è (–∫—É–±—ã, —Ü–∏–ª–∏–Ω–¥—Ä—ã, —Å—Ñ–µ—Ä—ã –∏ —Ç.–¥.)
- –°–ª–æ–∂–Ω—ã–µ –º–µ—Ö–∞–Ω–∏–∑–º—ã (—à–µ—Å—Ç–µ—Ä—ë–Ω–∫–∏, –ø–æ–¥—à–∏–ø–Ω–∏–∫–∏) —Ç—Ä–µ–±—É—é—Ç —Ä—É—á–Ω–æ–π –¥–æ—Ä–∞–±–æ—Ç–∫–∏

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–π —Ñ–∞–π–ª –≤ FreeCAD
2. –ò–∑—É—á–∏—Ç–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Å–±–æ—Ä–∫–∏
3. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –¥–æ—Ä–∞–±–æ—Ç–∞–π—Ç–µ –¥–µ—Ç–∞–ª–∏
4. –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –≤ –¥—Ä—É–≥–∏–µ —Ñ–æ—Ä–º–∞—Ç—ã (STEP, STL –∏ —Ç.–¥.)

---

üéâ **–ì–æ—Ç–æ–≤–æ!** –¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ä–æ–±–æ—Ç–æ–≤ –∏–∑ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –æ–ø–∏—Å–∞–Ω–∏—è –∏ –≤–∏–¥–µ—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ FreeCAD!